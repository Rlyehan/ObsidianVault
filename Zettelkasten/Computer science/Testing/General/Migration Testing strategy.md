222022-08-12

Style: 

Domain: #TestAutomation 

Tags: #Data 

# Migration Testing strategy
The recommended approach to designing migration testing strategies is to document one’s risk, the likelihood of occurrence, and then define the means to mitigate risk via testing where appropriate. The identification of risks is tricky and much of the process will be specific to the system being migrated.

The _de facto_ approach to testing data and content migrations relies upon sampling, where some subset of random data or content is selected and inspected to ensure the migration was completed “as designed”.

As per the assumption on repeatability, the fact that many migrations require four, five or more iterations of testing with differing results implies that one of the key tenets of sampling is not upheld, i.e., “non-conformities occur randomly and with statistical independence…”.

### Pre-Data Mogration Testing
-   Verify scope of source systems and data with user community and IT. Verification should include data to be included as well as excluded and, if applicable, tied to the specific queries being used for the migration.
    
-   Define the source to target high-level mappings for each category of data or content and verify that the desired type has been defined in the destination system.
    
-   Verify destination system data requirements such as the field names, field type, mandatory fields, valid value lists and other field-level validation checks.
    
-   Using the source to destination mappings, test the source data against the requirements of the destination system. For example, if the destination system has a mandatory field, ensure that the appropriate source is not null, or if the destination system field has a list of valid values, test to ensure that the appropriate source fields contain these valid values.
    
-   Test the fields that uniquely link source and target records and ensure that there is a definitive mapping between the record sets
    
-   Test source and target system connections from the migration platform.
    
-   Test tool configuration against the migration specification which can often be completed via black box testing on a field –by- field basis. If clever, testing here can also be used to verify that a migration specification’s mappings are complete and accurate.

## Formal Migration Design review
Conduct a formal design review of the migration specification when the pre-migration testing in near complete, or during the earliest stages of the migration tool configuration.

The specification should include:

-   A definition of the source systems
    
-   The source system’s data sets and queries
    
-   The mappings between the source system fields and the destination system
    
-   Number of source records
    
-   Number of source systems records created per unit time (to be used to define the migration timing and downtime
    
-   Identification of supplementary sources
    
-   Data cleansing requirements
    
-   Performance requirements
    
-   Testing requirements
    

The formal design review should include representatives from the appropriate user communities, IT and management.

The outcome of a formal design review should include a list of open issues, the means to close each issue and approve the migration specification and a process to maintain the specification in sync with the migration tool configuration (which seems to continuously change until the production migration).

### post migration testing

Once a migration has been executed, additional end to end testing can be executed.

Expect a significant sum of errors to be identified during the initial test runs although it will be minimized if sufficient pre-migration testing is well executed. Post-migration is typically performed in a test environment and includes:

-   Test the throughput of the migration process (number of records per unit time). This testing will be used to verify that the planned downtime is sufficient. For planning purposes, consider the time to verify that the migration process was completed successfully.
    
-   Compare Migrated Records to Records Generated by the Destination System – Ensure that migrated records are complete and of the appropriate context.
    
-   Summary Verification – There are several techniques that provide summary information including record counts and checksums. Here, the number of records migrated is compiled from the destination system and then compared to the number of records migrated. This approach provides only summary information and if any issue exists, it does not often provide insight to an issue’s root cause.
    
-   Compare Migrated Records to Sources – Tests should verify that fields’ values are migrated as per the migration specification. In short, source values and the field level mappings are used to calculate the expected results at the destination. This testing can be completed using sampling if appropriate or if the migration includes data that poses significant business or compliance risk, 100% of the migrated data can be verified using an automated testing tool.
    

The advantages of the automated approach include the ability to identify errors that are less likely to occur (the proverbial needles in a haystack). Additionally, as an automated testing tool can be configured in parallel with the configuration of the migration tool, the ability to test 100% of the migrated data is available immediately following the first test migration.

When compared to sampling approaches, it is easy to see that automated testing saves significant time and minimizes the typical iterative test, debug and retest found with sampling.


### Recommendations
 **In the context of data and content migrations, business and compliance risks are a direct result of data migration error but a thorough testing strategy minimizes the likelihood of data and content migration errors.**

The list below provides a set of recommendations to define such a testing strategy for a specific system:

1.  **Establish a comprehensive migration team**, including representatives from the user community, IT and management. Verify the appropriate level of experience for each team member and train as required on data migration principles, the source and the destination system.
    
2.  **Analyze business and compliance risks** with the specific systems being migrated. These risks should become the basis for the data migration testing strategy.
    
3.  **Create, formally review and manage** a complete migration specification – While it’s easy to state, very few migrations take this step.
    
4.  **Verify the scope of the migration** with the user community and IT. Understand that the scope of the migration may be refined over time as pre- and post-migration testing may reveal shortcomings of this initial scope.
    
5.  **Identify (or predict) likely sources of migration error** and define specific testing strategies to identify and remediate these errors. This gets easier with experience and the error categories and conditions listed here provide a good starting point.
    
6.  **Use the field-level source to destination mappings** to establish data requirements for the source system. Use these data requirements to complete pre-migration testing. If necessary, cleanse or supplement the source data as necessary.
    
7.  **Complete an appropriate level of post migration testing**. For migrations where errors need to be minimized, 100% verification using an automated tool is recommended. _Ensure that this automated testing tool is independent of the migration tool._
    
8.  **Look closely at the ROI of automated testing** if there is some concern about the costs, time commitment or the iterative nature of migration verification via sampling
    
9.  **Complete User Acceptance Testing with migrated data**. This approach tends to identify application errors with data that has been migrated as designed.
    
10.  **Test the production run**. If an automated testing tool was chosen, it is likely that 100% of the migrated data can be tested here with minimal incremental cost or downtime. If a manual testing approach is being used, complete a summary verification.



___
# References
